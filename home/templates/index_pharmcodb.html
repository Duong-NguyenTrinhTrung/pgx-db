{% extends "home/base.html" %}
{% load static %}
{% comment %} {% load humanize %} {% endcomment %}

{% block content %}

    <!-- Carousel -->
    <div class="row">

        <div class='col-md-12'>
            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="30000">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="3"></li>
                    <li data-target="#carousel-example-generic" data-slide-to="4"></li>
                    
                </ol>

                <!-- Wrapper for carousel slides -->
                <div class="carousel-inner" role="listbox">

                    <!-- Carousel items -->
                    <div class="item active">
                        <img style="height: 300px; " src="{% static 'home/carousel/vep and plot.png' %}">
                        <div class="carousel-caption">
                            <h4><a href="">Variant</a> effect <a href="">prediction</a></h4>
                            <p>Collection of variant effect prediction for interested targets</p>
                        </div>
                    </div>
                    
                    <div class="item">
                        <img  style="height: 300px; " src="{% static 'home/carousel/drug-and-target-network.png' %}">
                        <div class="carousel-caption">
                            <h4><a href="/alignment/targetselection" target="_blank">Drugs</a> and <a href="/phylogenetic_trees/targetselection" target="_blank">Targets</a></h4>
                            <p>Drugs and protein interaction network</p>
                        </div>
                    </div>

                    <div class="item">
                        <!-- <img style="height: 300px; " src="{% static 'home/carousel/atc_level_network_statistics.png' %}"> -->
                        <img style="height: 300px; " src="{% static 'home/carousel/atc-code-browsing.png' %}">
                        <div class="carousel-caption">
                            <h4><a href="">ATC level network statistics</a></h4>
                            <p>Interaction network at an ATC level</p>
                        </div>
                    </div>
                    
                    
                    <div class="item">
                        <img style="height: 300px; " src="{% static 'home/carousel/target-statistics.png' %}">
                        <div class="carousel-caption">
                            <h4><a href="">Statistics</a></h4>
                            <p>Drug, protein and variant statistics</p>
                        </div>
                    </div>
                    
                    <div class="item">
                        <img style="height: 300px; " src="{% static 'home/carousel/variant-and-structure.png' %}">
                        <div class="carousel-caption">
                            <h4><a href="">Variants</a> and <a href="">Structures</a></h4>
                            <p>Variants and their reflection on structures</p>
                        </div>
                    </div>
                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

        </div>

    </div>

    <!-- GPCRdb intro -->
    <div class="row">

        <div  class="col-md-9">
            <div class="panel panel-primary" >
                <div style="width: 100%; padding: 0;" class="panel-body">
                    <div class="col-md-4" >
                        <p style='text-align:center; font-size: 32px; margin:0; font-weight: 700; padding: 0;'>
                            <strong>PGx</strong> 
                        </p>
                        <p style='text-align:center; padding: 0;'>
                            <img style="width: 50%; height: 40.3%;" src="{% static 'home/logo/PGx/main10.png' %}">
                        </p>
                    </div>
                    <div class="col-md-4" id='center_menu'>
                        <p style='text-align:justify; margin-top: 20px;'>
                            <strong><em>PGx (Pharmacogenomics database) </em></strong>is a one-stop shop
                            for pharmacogenomics research offering:<br/>
                            <ul>
                              <li>Reference data (see Data box)</li>
                              <li>Tool to understand variant effects to drug metabolism and drug response
                            </li>
                              <li>Data about correlation with expression, sequence-domains, predictions, and structure
                            </li>
                            </ul>
                        </p>
                    </div>
                    
                    <div class="col-md-4" id='center_menu'>
                        <p style='text-align:justify; margin-top: 20px;'>Data about all drug target variants are available online by
                                <ul>
                                    <li>Any drug</li>
                                    <li>Target, enzyme, or transporter</li>
                                    <li>Disease</li>
                                    <li>Adverse reaction</li>
                                    
                                </ul>
                        </p>
                    </div>

                </div>
            </div>

            <!-- pieChart HTML Code -->
             
            <div style=" width : 100%;  margin-bottom: 20px;" >
                <div class="container-fluid mt-2 col-12">
                    <div class="row">
                        
                    
                        <div class="col-md-3 col-sm-12">
                            <div class="card custom-card">
                                <div class="card-body text-center">
                                    <h4 class="card-title">Drug Anatomical Groups</h4>
                                    <!--PieChart Code here-->
                                    <div id="chart-container3">
                                        <svg id="pie-chart-ATC"></svg>
                                    </div>
                                    <!--PieChart End here-->
                                </div>
                            </div>
                        </div>
                                                
                        <div class="col-md-3 col-sm-12">
                            <div class="card custom-card">
                                <div class="card-body text-center">
                                    <h4 class="card-title">Drug Clinical Statuses</h4>
                                    <!--PieChart Code here-->
                                    <div id="chart-container2" >
                                        <svg id="pie-chart-drugs"></svg>
                                    </div>
                                    <!--PieChart End here-->
                                </div>
                            </div>
                        </div>

                        <div class="col-md-3 col-sm-12">
                            <div class="card custom-card">
                                <div class="card-body text-center">
                                    <h4 class="card-title ">Protein Super Families</h4>
                                    <!--PieChart Code here-->
                                    <div id="chart-container1" >
                                        <svg id="pie-chart-proteins"></svg>
                                    </div>
                                    <!--PieChart End here-->
                                </div>
                            </div>
                        </div> 
                       
                        <div class="col-md-3 col-sm-12">
                            <div class="card custom-card">
                                <div class="card-body text-center">
                                    <h4 class="card-title ">Drug-protein Mode of action</h4>
                                    <!--PieChart Code here-->
                                    <div id="chart-container4" >
                                        <svg id="pie-chart-mutations"></svg>
                                    </div>
                                    <!--PieChart End here-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- pieChart HTML End Here Code -->

            

            <!-- Introduction video -->
            <div class="col-md-4" >
                <div class="panel panel-primary" id='intro-video'>
                    <div class="panel-body">
                        <h3>Introduction video</h3>
                        <a href="https://www.youtube.com/watch?v=RXmrUhSSSlo" target="_blank"><img style="width: 100%;align:center;" src="{% static '/home/images/youtube_intro_image2.png' %}". ></img></a>
                        <!-- <h3><a href="https://files.gpcrdb.org/video/GPCRdb-David_Gloriam.mp4">Videos</a></h3> -->
                    </div>
                </div>
                
            </div>

            <!-- Related resources -->
            <div class="col-md-4">
                
                <div class="panel panel-primary">
                    <div class="panel-body">
                        <h3>Related resources</h3>
                        <a href='https://go.drugbank.com/' target='_blank'>Drugbank</a>, <a href='https://app.genebass.org/' target='_blank'>Genebass</a>,
                        <a href='https://www.pharmgkb.org/' target='_blank'>PharmKB</a>, <a href='https://www.ensembl.org/' target='_blank'>Ensembl</a>  and <a href='https://gnomad.broadinstitute.org/' target='_blank'>Gnomad</a>
                        cover related aspects of how genetic variants affect drug metabolism and drug response.
                        {% if users %}
                        {{ users|safe }}
                        {% endif %}
                        <br />
                        <br />
                    </div>
                </div>
            </div>

            <!-- Release Notes -->
            <div class="col-md-4" >
                <div class="panel panel-primary" id='releases'>
                    <div class="panel-body">
                        <h3>Release & Accessibility </a></h3>
                        <br />
                        <strong>First release: </strong><span>to be in Dec-2023</span>
                        <br /> 
                        <strong>Accessibility: </strong><span>This website is freely accessible to all users</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Why pharmacogenomics? -->
        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-body">
                    <h3>Why pharmacogenomics?</h3>
                    <div style='max-height: 470px; overflow-y: scroll;'>
                        <p>
                          <strong style="color: grey;">Trends in GPCR drug discovery: new agents, targets and indications. </strong><br />
                          Hauser, A. S., Attwood, M. M., Rask-Andersen, M., Schiöth, H. B., & Gloriam, D. E. (2017). <br />
                          <a href ='https://www.nature.com/articles/nrd.2017.178' target='_blank'><i>Nature reviews Drug discovery</i>, 2017, 16(12), 829-842.</a><br />
                        </p>
                        <p>
                          <strong style="color: grey;">Pharmacogenomics of GPCR drug targets.  </strong><br />
                          Hauser, A. S., Chavali, S., Masuho, I., Jahn, L. J., Martemyanov, K. A., Gloriam, D. E., & Babu, M. M. (2018). <br />
                          <a href ='https://www.cell.com/cell/pdf/S0092-8674(17)31384-3.pdf' target='_blank'><i>Cell</i> 2018, 172(1), 41-54.</a><br />
                        </p>
                    </div>
                    <div style='height: 30px; margin-top: 10px; position: relative;'>
                      <span style="position: absolute; bottom 0;"><strong><a role="button" id='cite_gpcrdb_pubs'>Citing PGx</a></strong></span>
                    </div>
                </div>
            </div>
            

            <!-- Stats -->
                <div class="panel panel-primary">
                    <div class="panel-body">
                        <h3>Data</h3>
                        <ol class="olcards">
                            <li style="--cardColor:#fc374e">
                              <div class="content">
                                <div class="title">6,259</div>
                                <div class="text" id="drug-data">Drugs collected from Drugbank among with 3,676 has associated ATC codes <br/> </div>
                              </div>
                            </li>
                            <li style="--cardColor:#7678ed">
                              <div class="content">
                                <div class="title">1,574</div>
                                <div class="text" id="disease-data">Diseases associated with 1,716 drugs in 18,028 associations <br/> </div>
                              </div>
                            </li>
                            <li style="--cardColor:#38b000">
                              <div class="content">
                                <div class="title">2,939</div>
                                <div class="text">Interacting proteins spanning 22,909 drug-protein interactions</div>
                              </div>
                            </li>
                            <li style="--cardColor:#0466c8">
                              <div class="content">
                                <div class="title">1,212,621</div>
                                <div class="text">Unique genetics variants among which 10,959 influencing drug response</div>
                              </div>
                            </li>
                            <li style="--cardColor:#f15f0e">
                              <div class="content">
                                <div class="title">4,903,680</div>
                                <div class="text">Variant effects across differents transcripts from > 40 algorithms</div>
                              </div>
                            </li>
                            <li style="--cardColor:#db9d47">
                              <div class="content">
                                <div class="title">2,022,419</div>
                                <div class="text">Gene-based association statistics burden test scores</div>
                              </div>
                            </li>
                            <li style="--cardColor:rgb(88, 44, 77)">
                              <div class="content">
                                <div class="title">3,810,902</div>
                                <div class="text">Variant-based association statistics burden test scores</div>
                              </div>
                            </li>
                        </ol>

                    </div>
                </div>
        </div>
    </div>

            
{% endblock %}

{% block addon_js %}
    <!-- <script src="https://d3js.org/d3.v7.min.js"></script>        -->
    <script src="{% static 'home/js/d3.v7.min.js' %}"></script>       
    <script src="{% static 'home/js/piechart.js' %}"></script>

{% endblock %}
